# 자바스크립트 기본 문법 #2

## 배열의 내장 함수

### custom 함수

자바스크립트의 배열이 내장하는 함수들을 직접 구현해 본다. 함수의 원형은 w3schools 나 mdn 사이트에서 확인할 수 있다.

1. filter > customFilter // 특정 기준을 통과한 것들만 배열로 반환
2. every > customEvery // 모든 값이 기준을 통과했을 때 true 반환
3. some > customSome // 몇 개의 값이 기준을 통과했을 때 true 반환
4. forEach > customForEach // 배열 하나하나의 값을 이용할 수 있게 함
5. map > customMap // 배열 하나 당 계산하여 배열로 반환
6. reduce > customReduce // 배열을 모두 계산한 ?

위의 함수들은 protochain을 이용해 실제 Array에 연결합니다.

### 실제 데이터 다루기

https://yts.lt/api#list_movies 의 api를 이용해 토렌트 영화 정보를 data.js에 저장해두었다. 모듈로 분리된 파일을 불러와서 아래의 문제를 해결한다.

아래의 문제를 위에서 만든 custom함수로 해결하는 방법과 lodash 라는 라이브러리를 이용해서 해결하는 방법을 모두 사용해본 후 비교해봅시다.

1. 영화의 id, 제목, 년도, 평점 데이터를 갖고있는 리스트를 생성한다.
2. 평점을 input으로 받아 해당 평점 이상의 평점을 갖는 리스트를 반환한다.
3. 갖고있는 영화리스트들의 모든 장르를 추출해 중복되지 않은 장르 리스트를 생성한다.

### lodash와 같은 자바스크립트 라이브러리 사용법

자바스크립트 라이브러리를 node환경에서 사용하기 위해 npm이라는 모듈 관리자를 이용해서 설치를 해야합니다.

1. `npm init` 명령을 통해 node 프로젝트를 시작합니다. (클론 받은 디렉토리에서 실행, 입력해야하는 모든 것은 enter키로 넘어갈 수 있음) 프로젝트가 생성되면 `package.json` 파일이 생성됩니다.
2. `npm install lodash` 명령을 통해 라이브러리를 설치합니다. 라이브러리가 설치되면 `package.json` 파일에 dependencies 라는 항목이 생기고 라이브러리가 추가됩니다.
3. `.gitignore` 파일을 생성하고 `/node_modules` 라고 작성해줍니다. 라이브러리 파일이 디렉토리에 생성되었기 때문에 `git add .` 명령으로 커밋을 하면 해당 파일도 함께 저장이 됩니다. 라이브러리는 언제든 다시 받을 수 있고 설치할 라이브러리 리스트는 `package.json` 파일에서 관리되기 때문에 라이브러리 파일 자체를 git으로 관리하지 않기 위해 작성합니다.
4. 원하는 js파일에서 `require`명령을 통해 라이브러리를 불러올 수 있습니다.

## TDD

개발후 테스트를 진행하는 것이 아니라 테스트 코드를 먼저 작성한 뒤 개발을 진행하면 훨씬 빠른 속도로 목표에 도달할 수 있습니다.

### assertion

1. assert(expect, equal) 함수를 작성합니다. 첫번째 인자로 특정 함수의 실행을, 두번째 인자로 해당 함수를 실행했을 때의 결과를 직접 입력해줍니다. 두 값이 일치하면 일치한다는 출력과 일치하지 않으면 일치하지 않는다는 출력을 합니다.  
   ex) assert((function(a, b) { return a + b;})(2,4), 6) // pass

2. 주어진 결과가 값이 아닌 객체 또는 배열인 경우에도 같은 동작을 하도록 합니다. 위의 영화리스트 문제들로 직접 테스트를 해봅니다.

### jest

jest 라이브러리를 설치한 후 직접 만든 assert함수 대신 사용해보고 비교해봅니다.

## 다음 스터디 내용

### 실행컨텍스트
실행컨텍스트 : 코드가 실행되고 있는 구역, 범위에 대한 개념이다.
Type :
1. Global_ : 전역 영역에 존재하는 코드
2. Functional_ : 함수 내에 존재하는 코드
3. Eval_ : 많이 사용하지 않음

스택 구조

- Environment
1. Lexical_
변수와 해당 변수에 대입된 값이 매핑되는 곳 (매핑만 됨) -> 함수, 변수 let과 const 저장
2. Variable_
 : Lexical과 비슷 -> 차이점 : 변수 var만 저장
    1. Envrionment Records : 함수와 변수를 기록
    2. Reference to outer enviroment : 외부 lexical 환경으로 접근, 이 환경 내에서 변수를 찾지 못하면 외부 환경에서 해당 변수를 찾아볼 수 있다
    3. This binding : this의 값이 저장
**시점이 중요
 lexical scoping에 따라 전역 변수 객체에 스코프 체인은 선언 시에 이미 정해져 있습니다.
*** scopechain : 자신과 상위 스코프들의 변수 객체
****호이스팅
호이스팅이란 변수를 선언하고 초기화했을 때 선언 부분이 최상단으로 끌어올려지는 현상을 의미합니다. 
### 스코프
1. 전역 스코프 
2. 지역 스코프
-> 변수, 선언 위치에 의해 스코프를 가지게 된다. > 유효 범위가 다르다.

- 암묵적 전역 : 함수 내에 키워드 사용없이 할당했지만, 외부에 없어도 함수 내에 키워드 없이 사용한 변수가 있다면 암묵적으로 전역변수로 선언됨.

- 선언된 시점으로 유효범위 생긴다.
자바스크립트는 function-level Scope를 사용합니다. 

@ https://m.blog.naver.com/gi_balja/221249873376